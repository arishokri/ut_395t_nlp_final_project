# Baseline sweep configuration
# Simple baseline runs with different random seeds for comparison

program: run.py
method: grid
project: qa-cartography-experiments
name: baseline-seeds

# Metric to optimize
# Using F1 instead of exact_match because:
# - F1 is more lenient and rewards partial matches, providing better training signal
# - Exact match is very strict (single char difference = wrong), can be noisy for model selection
# - F1 correlates well with EM; both metrics are logged to W&B for comparison
metric:
  name: eval/f1
  goal: maximize

# Fixed parameters for all runs
parameters:
  # Model and dataset
  model:
    value: google/electra-small-discriminator
  dataset:
    value: Eladio/emrqa-msquad
  max_length:
    value: 512

  # Dataset size limits (set to null for full dataset)
  max_train_samples:
    value: 5000 # null = use full training set
  max_eval_samples:
    value: 2000 # null = use full validation set

  # Training configuration
  num_train_epochs:
    value: 3
  per_device_train_batch_size:
    value: 64

  # No filtering or modifications
  enable_cartography:
    value: false
  filter_ambiguous:
    value: false
  filter_clusters:
    value: false
  filter_rule_based:
    value: false
  filter_validation:
    value: false
  use_label_smoothing:
    value: false
  use_soft_weighting:
    value: false

  # Multiple seeds for statistical significance
  seed:
    values: [42, 123, 456, 789, 2024]

  # Drop percentage threshold (not relevant for baseline but keeping for consistency)
  max_drop_percentage:
    value: 30
